{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAW,CAAC,EAEZC,EAAgB,sBAChBC,EAAO,CACXC,KAAMC,SAASC,cAAc,kBAC7BC,QAASF,SAASC,cAAc,4BAChCE,MAAOH,SAASC,cAAc,yBA4BhC,WACE,MAAMG,EAAeC,aAAaC,QAAQT,GAEtCO,IACFN,EAAKI,QAAQK,MAAQC,KAAKC,MAAML,GAAcF,SAAW,GACzDJ,EAAKK,MAAMI,MAAQC,KAAKC,MAAML,GAAcD,OAAS,GACrDP,EAASO,MAAQL,EAAKK,MAAMI,MAC5BX,EAASM,QAAUJ,EAAKI,QAAQK,MAEpC,CAlCAG,GAEAZ,EAAKC,KAAKY,iBAAiB,UAW3B,SAAsBC,GAGpB,GAFAA,EAAIC,iBAEuB,KAAvBf,EAAKI,QAAQK,OAAqC,KAArBT,EAAKK,MAAMI,MAC1C,OAAOO,MAAM,6CAEfC,QAAQC,IAAIpB,GAEZgB,EAAIK,cAAcC,QAClBb,aAAac,WAAWtB,EAC1B,IAnBAC,EAAKC,KAAKY,iBACR,SACA,EAAAjB,EAAA0B,WAASC,IACPzB,EAASyB,EAAEC,OAAOC,MAAQF,EAAEC,OAAOf,MAEnCF,aAAamB,QAAQ3B,EAAeW,KAAKiB,UAAU7B,GAAA,GAClD","sources":["src/js/03-feedback.js"],"sourcesContent":["import { throttle } from 'lodash';\n\nconst formData = {};\n\nconst FEEDBACK_FORM = 'feedback-form-state';\nconst refs = {\n  form: document.querySelector('.feedback-form'),\n  message: document.querySelector('textarea[name=\"message\"]'),\n  email: document.querySelector('input[name=\"email\"]'),\n};\n\npopulateFormInput(); //відновлення даних після перезагрузки сторінки\n\nrefs.form.addEventListener('submit', onFormSubmit);\n\nrefs.form.addEventListener(\n  'input',\n  throttle(e => {\n    formData[e.target.name] = e.target.value;\n\n    localStorage.setItem(FEEDBACK_FORM, JSON.stringify(formData));\n  }, 500) // Оновлення сховища раз на 500 мілісекунд\n);\n\nfunction onFormSubmit(evt) {\n  evt.preventDefault();\n\n  if (refs.message.value === '' || refs.email.value === '') {\n    return alert('Заповніть усі поля перед відправкою форми');\n  }\n  console.log(formData);\n\n  evt.currentTarget.reset(); //очищаємо поля форми\n  localStorage.removeItem(FEEDBACK_FORM); //забираємо FEEDBACK_FORM з localStorage\n}\n\nfunction populateFormInput() {\n  const saveFormData = localStorage.getItem(FEEDBACK_FORM);\n\n  if (saveFormData) {\n    refs.message.value = JSON.parse(saveFormData).message || ''; //відновлюємо дані у формі localStorage\n    refs.email.value = JSON.parse(saveFormData).email || '';\n    formData.email = refs.email.value; //відновлюємо formData щоб співпадав з localStorage\n    formData.message = refs.message.value;\n  }\n}\n"],"names":["$kEUo3","parcelRequire","$945622fd0f572e60$var$formData","$945622fd0f572e60$var$FEEDBACK_FORM","$945622fd0f572e60$var$refs","form","document","querySelector","message","email","saveFormData","localStorage","getItem","value","JSON","parse","$945622fd0f572e60$var$populateFormInput","addEventListener","evt","preventDefault","alert","console","log","currentTarget","reset","removeItem","throttle","e","target","name","setItem","stringify"],"version":3,"file":"03-feedback.a927694c.js.map"}